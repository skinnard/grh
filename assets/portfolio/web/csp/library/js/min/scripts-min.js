function updateViewportDimensions(){var t=window,a=document,n=a.documentElement,e=a.getElementsByTagName("body")[0],i=t.innerWidth||n.clientWidth||e.clientWidth,o=t.innerHeight||n.clientHeight||e.clientHeight;return{width:i,height:o}}function navHeight($){var t=$(".nav").outerHeight(),a=viewport.height-t-20;$(".thumbnails").css("height",a)}function getLinkParameter(t,a){for(var n=t.substring(1),e=n.split("&"),i=0;i<e.length;i++){var o=e[i].split("=");if(o[0]===a)return o[1]}}function loadYear(t){$.ajax({type:"POST",url:"library/php/yearload.php",data:"year="+t,dataType:"html",success:function(t){t&&($(".month-list").hide().replaceWith(t),$("#month").php("MONTH"))}})}function loadMonth(t,a){$.ajax({type:"POST",url:"library/php/monthload.php",data:"year="+t+"&month="+a,dataType:"html",success:function(t){t&&$(".thumbnails").fadeOut(250,function(){$(this).php(t).css({display:"block",opacity:0}),navHeight($);var a=$(".thumbnails");a.jScrollPane(),$(this).animate({opacity:1},350)})}})}function loadPage(t,a,n){$.ajax({type:"POST",url:"library/php/pageload.php",data:"year="+t+"&month="+a+"&project="+n,dataType:"html",success:function(t){t&&$("#content").fadeOut(50,function(){$(".content-wrapper").animate({scrollTop:0},function(){$("#content").php(t).fadeIn(350)})})}})}function mainSizing(t,a,n){var e=$("#nav-wrapper").outerWidth(),i=15;viewport.width>=768?(mainTargetWidth=t===!1?viewport.width-i:viewport.width-e,n(a)):mainTargetWidth=viewport.width}function navOpenClose(t){$(".nav-wrapper").toggleClass("nav-wrapper-closed",300,"easeOutSine"),$(".content-main-info").toggleClass("content-main-info-closed",300,"easeOutSine"),$(".fa-angle-double-left").toggleClass("fa-angle-double-right"),$(".header-wrapper").toggleClass("header-wrapper-nav-padding"),$(".pop-out-button i").css("padding-left","5px"),t()}var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var t={};return function(a,n,e){e||(e="Don't call this twice without a uniqueId"),t[e]&&clearTimeout(t[e]),t[e]=setTimeout(a,n)}}(),timeToWaitForLast=25,mainTargetWidth=0;jQuery(document).ready(function($){document.addEventListener("touchstart",function(){},!0),mainSizing(!0,0,function(t){$("#main-wrapper, .content-wrapper, .header-wrapper").animate({width:mainTargetWidth},t)}),navHeight($),$(".content-wrapper").scrollTop(0),$(".pop-out-button").click(function(){navOpenClose(function(){$("#nav-wrapper").hasClass("nav-wrapper-closed")?(mainSizing(!0,250,function(t){$("#main-wrapper, .content-wrapper, .header-wrapper").animate({width:mainTargetWidth},t)}),$(".mobileDim").css("display","block"),$(".mobileDim").animate({opacity:.7},300)):(mainSizing(!1,250,function(t){$("#main-wrapper, .content-wrapper, .header-wrapper").animate({width:mainTargetWidth},t)}),$(".mobileDim").animate({opacity:0},300,function(){$(".mobileDim").css("display","none")}))})}),$(".year").click(function(t){t.preventDefault();var a=$(this).attr("href"),n=getLinkParameter(a,"year");loadYear(n)}),$(".month-dropdown").on("click",".month",function(t){t.preventDefault();var a=$(this).attr("href"),n={year:getLinkParameter(a,"year"),month:getLinkParameter(a,"month")};loadMonth(n.year,n.month)}),$(".nav-wrapper").on("click",".thumbnail-link",function(t){t.preventDefault();var a=$(this).attr("href"),n={year:getLinkParameter(a,"year"),month:getLinkParameter(a,"month"),project:getLinkParameter(a,"project")};loadPage(n.year,n.month,n.project),$(".thumbnail-link").removeClass("active"),$(this).addClass("active"),viewport.width<1030&&navOpenClose(function(){$("#nav-wrapper").hasClass("nav-wrapper-closed")?mainSizing(!0,250,function(t){$("#main-wrapper, .content-wrapper, .header-wrapper").animate({width:mainTargetWidth},t)}):mainSizing(!1,250,function(t){$("#main-wrapper, .content-wrapper, .header-wrapper").animate({width:mainTargetWidth},t)})})}),$(".content-wrapper").scroll(function(){$(this).scrollTop()<=30?$(".content-main-info").css({"box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"}):$(".content-main-info").css({"box-shadow":"0px 10px 30px rgba(99,99,99,0.25)","-moz-box-shadow":"0px 10px 30px rgba(99,99,99,0.25)","-webkit-box-shadow":"0px 5px 30px rgba(99,99,99,0.25)"})}),$(".year-dropdown").click(function(){$(".year-list").toggleClass("visable"),$(".month-list").removeClass("visable")}),$(".month-dropdown").click(function(){$(".month-list").toggleClass("visable"),$(".year-list").removeClass("visable")}),$(".year-list li a").click(function(){var t=$(this).text();$("#year").php(t)}),$(".month-list-parent").on("click",".month-li",function(){var t=$(this).text();$("#month").php(t)}),$(window).resize(function(){waitForFinalEvent(function(){viewport=updateViewportDimensions(),navHeight($),$("#nav-wrapper").hasClass("nav-wrapper-closed")?mainSizing(!1,0,function(t){$("#main-wrapper, .content-wrapper, .header-wrapper").animate({width:mainTargetWidth},t)}):mainSizing(!0,0,function(t){$("#main-wrapper, .content-wrapper, .header-wrapper").animate({width:mainTargetWidth},t)});var t=$(".thumbnails").data("jsp");t.reinitialise()},timeToWaitForLast,"mainResizeScripts")}),$(".thumbnails").on("click",".thumb",function(){$(".mobileDim").animate({opacity:0},300,function(){$(".mobileDim").css("display","none")})}),$(function(){var t=$(".thumbnails");t.jScrollPane()})}),$(document).click(function(t){var a=$(t.target).closest("ul");outerClick(a,"month-dropdown",".month-list",function(){$(".month-list").toggleClass("visable")}),outerClick(a,"year-dropdown",".year-list",function(){$(".year-list").toggleClass("visable")})});